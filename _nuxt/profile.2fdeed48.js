import{a as x,u as w,b as g}from"./entry.4431de8e.js";import{q as i,H as l,L as o,M as p,N as _,u as e,R as f,O as b,Q as y,x as N}from"./swiper-vue.227510cd.js";import{u as k}from"./fetch.9a403d58.js";import{u as h}from"./cookie.5b12b00d.js";const U={class:"cpassword-modal"},V={class:"cpassword-modal-con"},S={__name:"ChangePassword",setup(C){const v=g(),u=w("cpassword_is_active"),r=h("user_info");let a={current_password:"",new_password:"",new_password_confirmation:""};async function s(){const{data:c,pending:n,refresh:t}=await k(`${v.public.baseURL}/api/user/changepassword`,{method:"POST",body:JSON.stringify(a),headers:{Authorization:"Bearer "+r.value.token}},"$hbqUopKmcA");r.value=c.value,window.location.reload(!0)}return(c,n)=>(i(),l("div",U,[o("div",{class:"cpassword-modal-overlay modal-overlay",onClick:n[0]||(n[0]=()=>{u.value=!1})}),o("div",V,[p(o("input",{"onUpdate:modelValue":n[1]||(n[1]=t=>e(a).current_password=t),placeholder:"Current Password",type:"password"},null,512),[[_,e(a).current_password]]),p(o("input",{"onUpdate:modelValue":n[2]||(n[2]=t=>e(a).new_password=t),placeholder:"New Password",type:"password"},null,512),[[_,e(a).new_password]]),p(o("input",{"onUpdate:modelValue":n[3]||(n[3]=t=>e(a).new_password_confirmation=t),placeholder:"Confirm New Password",type:"password"},null,512),[[_,e(a).new_password_confirmation]]),o("button",{onClick:s},"Submit")])]))}},$=x(S,[["__scopeId","data-v-943d2cc0"]]),B={class:"profile-page"},T={class:"wrapper"},O=o("h2",{class:"page-title"},"User Profile",-1),E={key:0},R={key:0},M={__name:"profile",setup(C){const v=g(),u=h("user_info").value,r=w("is_editing_profile",()=>!1),a=w("cpassword_is_active",()=>!1),s=w("profile_form",()=>{});s.value={email:u.user.email,phone_number:u.user.phone_number,coins:u.user.coins.length>0?u.user.coins[0].coin_balance:0},console.log(s.value);function c(){r.value=!r.value}async function n(){const t=h("user_info");await k(`${v.public.baseURL}/api/user/update`,{method:"POST",headers:{Authorization:"Bearer "+t.token},body:JSON.stringify(s.value)},"$62j1b1lrVm"),window.location.reload(!0)}return(t,d)=>{const P=$;return i(),l("div",B,[o("div",T,[O,o("a",{onClick:c},"Edit"),f(),o("a",{onClick:d[0]||(d[0]=m=>a.value=!0)},"Change Password"),o("ul",null,[o("li",null,[f(" Email: "),e(r)==!1?(i(),l("span",E,b(e(s).email),1)):p((i(),l("input",{key:1,"onUpdate:modelValue":d[1]||(d[1]=m=>e(s).email=m),type:"email"},null,512)),[[_,e(s).email]])]),o("li",null,[f(" Phone Number: "),e(r)==!1?(i(),l("span",R,b(e(s).phone_number),1)):p((i(),l("input",{key:1,"onUpdate:modelValue":d[2]||(d[2]=m=>e(s).phone_number=m)},null,512)),[[_,e(s).phone_number]])]),o("li",null,[f(" Coin Balance: "),o("span",null,b(e(s).coins),1)])]),e(r)?(i(),l("button",{key:0,onClick:n},"Submit")):y("",!0)]),e(a)?(i(),N(P,{key:0})):y("",!0)])}}};export{M as default};
