import{a as y,b as R,u as D}from"./entry.3be64904.js";import{u as H}from"./fetch.8d7b9169.js";import{u as g}from"./cookie.1a36ff8d.js";import{M as E,q as u,H as d,L as e,Q as U,u as n,U as c,I as w,J as $,z as o,y as r,O as F,N as V,a0 as G}from"./swiper-vue.ab7c0c95.js";import{_ as J}from"./nuxt-link.c8ae9135.js";import{_ as O,a as W}from"./loader.fff34b3e.js";const q=a=>(w("data-v-f1550a92"),a=a(),$(),a),P={class:"header"},Q={class:"header-info"},Y=q(()=>e("i",{class:"fa fa-sign-out"},null,-1)),Z={__name:"Header",async setup(a){let s,i;const _=R(),t=g("user_info");let l=t.value;const{data:p,refresh:x}=([s,i]=E(()=>H(`${_.public.baseURL}/api/user/get`,{method:"GET",headers:{Authorization:"Bearer "+l.token}},"$otMoZBYinG")),s=await s,i(),s);t.value.user=p.value;async function m(){await H(`${_.public.baseURL}/api/logout`,{method:"POST",headers:{Authorization:"Bearer "+l.token}},"$1MaMlyJxsn");const v=g("user_info");v.value=null,window.location.replace("/admin")}return(v,z)=>{var f,h,k,I,N,S,C,M,A,B,L,T;return u(),d("div",P,[e("div",Q,[e("ul",null,[e("li",null,"Wallet: "+U(((k=(h=(f=n(t))==null?void 0:f.user)==null?void 0:h.wallets)==null?void 0:k.length)>0?(S=(N=(I=n(t))==null?void 0:I.user)==null?void 0:N.wallets[0])==null?void 0:S.wallet_balance:0),1),e("li",null,"Coins: "+U(((A=(M=(C=n(t))==null?void 0:C.user)==null?void 0:M.coins)==null?void 0:A.length)>0?(T=(L=(B=n(t))==null?void 0:B.user)==null?void 0:L.coins[0])==null?void 0:T.coin_balance:0),1)])]),e("div",{class:"header-nav"},[e("a",{onClick:m,class:"btn-input btn-input--logout"},[Y,c(" Logout")])])])}}},j=y(Z,[["__scopeId","data-v-f1550a92"]]);const b=a=>(w("data-v-1c5671b3"),a=a(),$(),a),K={class:"main-nav"},X={class:"menu"},ee=b(()=>e("div",{class:"smartphone-menu-trigger"},null,-1)),te=b(()=>e("header",{class:"avatar"},[e("img",{src:O})],-1)),ae=b(()=>e("hr",null,null,-1)),se={__name:"MainNav",setup(a){const s=g("user_info").value;return s.user.user_type.name=="user"&&window.location.replace("/403"),(i,_)=>{const t=J;return u(),d("div",K,[e("nav",X,[ee,te,ae,e("ul",null,[e("li",null,[o(t,{to:"/","exact-active-class":"active"},{default:r(()=>[c("Website")]),_:1})]),e("li",null,[o(t,{to:"/admin","exact-active-class":"active"},{default:r(()=>[c("Dashboard")]),_:1})]),n(s).user.user_type.name=="admin"||n(s).user.user_type.name=="root"?(u(),d(F,{key:0},[e("li",null,[o(t,{to:"/admin/users","exact-active-class":"active"},{default:r(()=>[c("Users")]),_:1})]),e("li",null,[o(t,{to:"/admin/agents","exact-active-class":"active"},{default:r(()=>[c("Agents")]),_:1})])],64)):V("",!0),e("li",null,[o(t,{to:"/admin/transfer","exact-active-class":"active"},{default:r(()=>[c("Transfer")]),_:1})])])])])}}},oe=y(se,[["__scopeId","data-v-1c5671b3"]]);const ne=a=>(w("data-v-8dbad506"),a=a(),$(),a),_e={class:"app"},ce={class:"admin-con"},ie={class:"content"},le={key:0,class:"content-loader"},re=ne(()=>e("img",{src:W},null,-1)),ue=[re],de={__name:"admin",setup(a){var _,t,l,p,x,m;const s=g("user_info");s.value?((l=(t=(_=s.value)==null?void 0:_.user)==null?void 0:t.user_type)==null?void 0:l.name)!="admin"&&((m=(x=(p=s.value)==null?void 0:p.user)==null?void 0:x.user_type)==null?void 0:m.name)!="root"&&window.location.replace("/"):window.location.replace("/admin/login");const i=D("content_is_loading",()=>!1);return(v,z)=>{const f=j,h=oe;return u(),d("div",_e,[e("div",ce,[e("div",ie,[o(f),G(v.$slots,"default",{},void 0,!0),n(i)?(u(),d("div",le,ue)):V("",!0)]),o(h)])])}}},xe=y(de,[["__scopeId","data-v-8dbad506"]]);export{xe as default};
