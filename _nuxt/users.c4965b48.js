import{a as U,b as a,u as w}from"./entry.a1aab425.js";import{q as i,I as u,J as e,O as J,L as c,M as f,u as s,P as S,Q as C,R as D,U as y,V as g,H as T,z as G,y as H,x as A,W as V,X as Q,Y as W}from"./swiper-vue.cbbb5c14.js";import{u as x}from"./cookie.a8369997.js";import{u as X}from"./fetch.ef69075f.js";const Y={},j={class:"datatables"};function K(p,l){return i(),u("div",j,[e("table",null,[J(p.$slots,"default")])])}const Z=U(Y,[["render",K]]);const ee={class:"add-modal"},te={class:"add-modal-con"},oe=["value","selected"],ne={__name:"AddUser",setup(p){const l=w(),_=a("add_modal_is_active"),m=x("user_info"),{value:r}=a("user_types"),d=a("content_is_loading",()=>!1);let n={type_id:r.length>0?r[0].id:null};async function v(){d.value=!0,(await $fetch(`${l.public.baseURL}/api/user/add`,{method:"POST",headers:{Authorization:"Bearer "+m.value.token},body:JSON.stringify(n)})).user&&window.location.reload(!0)}return(h,t)=>(i(),u("div",ee,[e("div",{class:"add-modal-overlay modal-overlay",onClick:t[0]||(t[0]=()=>{_.value=!1})}),e("div",te,[c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s(n).username=o),placeholder:"Username",type:"text",required:""},null,512),[[f,s(n).username]]),c(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s(n).email=o),placeholder:"Email",type:"email",required:""},null,512),[[f,s(n).email]]),c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>s(n).password=o),placeholder:"Password",type:"password",requuired:""},null,512),[[f,s(n).password]]),c(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>s(n).password_confirmation=o),placeholder:"Confirm Password",type:"password",required:""},null,512),[[f,s(n).password_confirmation]]),c(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>s(n).phone_number=o),placeholder:"Phone Number",type:"text",required:""},null,512),[[f,s(n).phone_number]]),c(e("select",{"onUpdate:modelValue":t[6]||(t[6]=o=>s(n).type_id=o)},[(i(!0),u(C,null,D(s(r),(o,k)=>(i(),u("option",{key:k,value:o.id,selected:k==0},y(o.name),9,oe))),128))],512),[[S,s(n).type_id]]),e("button",{onClick:v},"Add")])]))}},se=U(ne,[["__scopeId","data-v-45025fc4"]]);const ae={class:"edit-modal"},le={class:"edit-modal-con"},de=["value"],ie={style:{color:"black"}},_e={__name:"EditUser",setup(p){const l=w(),_=a("edit_modal_is_active"),m=x("user_info"),{value:r}=a("user_types"),d=a("user_to_edit").value;let n={username:d.username,email:d.email,phone_number:d.phone_number,type_id:d.type_id?d.type_id:1};async function v(){await $fetch(`${l.public.baseURL}/api/user/edit/${d.id}`,{method:"POST",headers:{Authorization:"Bearer "+m.value.token},body:JSON.stringify(n)}),window.location.reload(!0)}return(h,t)=>(i(),u("div",ae,[e("div",{class:"edit-modal-overlay modal-overlay",onClick:t[0]||(t[0]=()=>{h.register_is_active=!1})}),e("div",le,[c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s(n).username=o),placeholder:"Username",type:"text",required:""},null,512),[[f,s(n).username]]),c(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s(n).email=o),placeholder:"Email",type:"email",required:""},null,512),[[f,s(n).email]]),c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>s(n).phone_number=o),placeholder:"Phone Number",type:"text",required:""},null,512),[[f,s(n).phone_number]]),c(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>s(n).type_id=o)},[(i(!0),u(C,null,D(s(r),(o,k)=>(i(),u("option",{key:k,value:o.id},y(o.name),9,de))),128))],512),[[S,s(n).type_id]]),e("p",ie,y(h.message),1),e("a",{onClick:t[5]||(t[5]=o=>_.value=!1)},"Cancel"),g(" | "),e("a",{onClick:v},"Update")])]))}},re=U(_e,[["__scopeId","data-v-80a667d5"]]);const ue={class:"delete-modal"},ce={class:"delete-modal-con"},pe={__name:"DeleteUser",setup(p){const l=w(),_=a("delete_modal_is_active"),m=x("user_info"),{value:r}=a("user_types"),d=a("content_is_loading",()=>!1),n=a("user_to_delete").value;r.length>0&&r[0].id;async function v(){d.value=!0,await $fetch(`${l.public.baseURL}/api/user/delete/${n.id}`,{method:"DELETE",headers:{Authorization:"Bearer "+m.value.token}}),window.location.reload(!0)}return(h,t)=>(i(),u("div",ue,[e("div",{class:"delete-modal-overlay modal-overlay",onClick:t[0]||(t[0]=()=>{_.value=!1})}),e("div",ce,[e("button",{onClick:t[1]||(t[1]=o=>_.value=!1)},"Cancel"),e("button",{onClick:v},"Delete")])]))}},me=U(pe,[["__scopeId","data-v-ef5870e5"]]);const q=p=>(Q("data-v-d80121d9"),p=p(),W(),p),ve={class:"users-page"},fe=q(()=>e("h2",{class:"page-title"},"Users",-1)),ye={class:"table-nav"},he=q(()=>e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Username"),e("th",null,"Email"),e("th",null,"Phone Number"),e("th",null,"User Type"),e("th",null,"Action")])],-1)),be=["onClick"],ke=["onClick"],Ue={__name:"users",async setup(p){let l,_;const m=w(),r=x("user_info"),d=a("add_modal_is_active",()=>!1),n=a("edit_modal_is_active",()=>!1),v=a("delete_modal_is_active",()=>!1),h=a("user_to_edit",()=>{}),t=a("user_to_delete",()=>{}),o=a("content_is_loading");o.value=!0;const{data:k,pending:$e,refresh:ge}=([l,_]=T(()=>X(`${m.public.baseURL}/api/users`,{method:"GET",headers:{Authorization:"Bearer "+r.value.token}},"$5e9MclQqBH")),l=await l,_(),l),B=k.value,I=([l,_]=T(()=>$fetch(`${m.public.baseURL}/api/user/types`,{method:"GET",headers:{Authorization:"Bearer "+r.value.token}})),l=await l,_(),l);a("user_types",()=>I),o.value=!1;function N($){n.value=!0,h.value=$}async function L($){v.value=!0,t.value=$}return($,E)=>{const P=Z,M=se,R=re,z=me;return i(),u(C,null,[e("div",ve,[fe,e("div",ye,[e("a",{onClick:E[0]||(E[0]=()=>d.value=!s(d))},"Add")]),G(P,null,{default:H(()=>[he,e("tbody",null,[(i(!0),u(C,null,D(s(B),(b,O)=>(i(),u("tr",{key:O},[e("td",null,y(b.id),1),e("td",null,y(b.username),1),e("td",null,y(b.email),1),e("td",null,y(b.phone_number),1),e("td",null,y(b.type),1),e("td",null,[g("("),e("a",{onClick:F=>N(b)},"Edit",8,be),g(),e("a",{onClick:F=>L(b)},"Delete",8,ke),g(")")])]))),128))])]),_:1})]),s(d)?(i(),A(M,{key:0})):V("",!0),s(n)?(i(),A(R,{key:1})):V("",!0),s(v)?(i(),A(z,{key:2})):V("",!0)],64)}}},Ve=U(Ue,[["__scopeId","data-v-d80121d9"]]);export{Ve as default};
