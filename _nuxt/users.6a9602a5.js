import{P as D,D as L,_ as R,a as V,b as z,c as q}from"./jquery.dataTables.7ff08911.js";import{a as F,u as n,b as G}from"./entry.8d01597c.js";import{u as H}from"./fetch.bcf930a6.js";import{u as Q}from"./cookie.cd6838fc.js";import{M as x,j,H as r,L as e,u as l,z as J,y as O,x as p,N as d,O as A,q as o,P as K,Q as _,R as h,I as W,J as X}from"./swiper-vue.cf378b39.js";const v=i=>(W("data-v-5d00741b"),i=i(),X(),i),Y={class:"users-page"},Z=v(()=>e("h2",{class:"page-title"},"Users",-1)),ee={class:"table-nav"},te=v(()=>e("img",{src:R},null,-1)),se=[te],ae=v(()=>e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Username"),e("th",null,"Email"),e("th",null,"Phone Number"),e("th",null,"Coin Balance"),e("th",null,"User Type"),e("th",null,"Action")])],-1)),ne=["onClick"],oe=["onClick"],le={__name:"users",async setup(i){let s,c;D.use(L);const f=G(),y=Q("user_info"),k=n("details_modal_is_active",()=>!1),m=n("add_modal_is_active",()=>!1),b=n("delete_modal_is_active",()=>!1),B=n("user_to_view",()=>{}),P=n("user_to_delete",()=>{}),g=n("content_is_loading");g.value=!0;const{data:U,pending:_e,refresh:ie}=([s,c]=x(()=>H(`${f.public.baseURL}/api/users/all`,{method:"GET",headers:{Authorization:"Bearer "+y.value.token}},"$5e9MclQqBH")),s=await s,c(),s),w=U.value,I=([s,c]=x(()=>$fetch(`${f.public.baseURL}/api/user/types`,{method:"GET",headers:{Authorization:"Bearer "+y.value.token}})),s=await s,c(),s);n("user_types",()=>I),g.value=!1;function N(a){k.value=!0,B.value=a}async function T(a){b.value=!0,P.value=a}return j(()=>{const a=(currentPage-1)*itemsPerPage,u=a+itemsPerPage;return[].slice(a,u)}),(a,u)=>{const C=V,$=z,M=q;return o(),r(A,null,[e("div",Y,[Z,e("div",ee,[e("a",{onClick:u[0]||(u[0]=()=>m.value=!l(m))},se)]),J(l(D),{class:"display"},{default:O(()=>[ae,e("tbody",null,[(o(!0),r(A,null,K(l(w),(t,S)=>(o(),r("tr",{key:S},[e("td",null,_(t.id),1),e("td",null,_(t.username),1),e("td",null,_(t.email),1),e("td",null,_(t.phone_number),1),e("td",null,_(t.coins.length>0?t.coins[0].coin_balance:0),1),e("td",null,_(t.user_type.name),1),e("td",null,[h(" ( "),e("a",{onClick:E=>N(t)},"Details",8,ne),h(),t.user_type.name!="root"?(o(),r("a",{key:0,onClick:E=>T(t)},"Delete",8,oe)):d("",!0),h(" ) ")])]))),128))])]),_:1})]),l(k)?(o(),p(C,{key:0})):d("",!0),l(m)?(o(),p($,{key:1})):d("",!0),l(b)?(o(),p(M,{key:2})):d("",!0)],64)}}},pe=F(le,[["__scopeId","data-v-5d00741b"]]);export{pe as default};
