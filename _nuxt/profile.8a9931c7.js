import{a as U,b as f,u as k}from"./entry.f7395494.js";import{q as i,I as l,J as a,L as p,M as _,u as o,a5 as V,V as v,U as g,W as y,x as $}from"./swiper-vue.7b190ed8.js";import{u as h}from"./fetch.24db2f51.js";import{u as b}from"./cookie.c93b813c.js";const x={class:"cpassword-modal"},B={class:"cpassword-modal-con"},N={__name:"ChangePassword",setup(C){const c=k(),w=f("cpassword_is_active"),r=b("user_info");let t={current_password:"",new_password:"",new_password_confirmation:""};async function s(){const{data:d,pending:n,refresh:e}=await h(`${c.public.baseURL}/api/user/changepassword`,{method:"POST",body:JSON.stringify(t),headers:{Authorization:"Bearer "+r.value.token}},"$hbqUopKmcA");r.value=d.value,console.log(d.value)}return(d,n)=>(i(),l("div",x,[a("div",{class:"cpassword-modal-overlay modal-overlay",onClick:n[0]||(n[0]=()=>{w.value=!1})}),a("div",B,[p(a("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>o(t).current_password=e),placeholder:"Current Password",type:"password"},null,512),[[_,o(t).current_password]]),p(a("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>o(t).new_password=e),placeholder:"New Password",type:"password"},null,512),[[_,o(t).new_password]]),p(a("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>o(t).new_password_confirmation=e),placeholder:"Confirm New Password",type:"password"},null,512),[[_,o(t).new_password_confirmation]]),a("button",{onClick:s},"Submit")])]))}},S=U(N,[["__scopeId","data-v-5dc7729c"]]),T={class:"profile-page"},E={class:"wrapper"},M=a("h2",{class:"page-title"},"User Profile",-1),A={key:0},D={key:0},q={__name:"profile",setup(C){const c=k(),w=b("user_info"),r=f("is_editing_profile",()=>!1),t=f("cpassword_is_active",()=>!1),s=f("profile_form",()=>(h(`${c.public.baseURL}/api/user/get`,{method:"GET",headers:{Authorization:"Bearer "+w.value.token}},"$62j1b1lrVm").then(e=>(s.value.email=e.data.value.email,s.value.phone_number=e.data.value.phone_number,console.log(s.value),{email:e.data.value.email,phone_number:e.data.value.phone_number})).catch(e=>{console.error(e)}),{email:"",phone_number:""}));V(()=>{});function d(){r.value=!r.value}async function n(){const e=b("user_info");await h(`${c.public.baseURL}/api/user/update`,{method:"POST",headers:{Authorization:"Bearer "+e.value.token},body:JSON.stringify(s.value)},"$BME5qJrpDM"),window.location.reload(!0)}return(e,u)=>{const P=S;return i(),l("div",T,[a("div",E,[M,a("a",{onClick:d},"Edit"),v(),a("a",{onClick:u[0]||(u[0]=m=>t.value=!0)},"Change Password"),a("ul",null,[a("li",null,[v(" Email: "),o(r)==!1?(i(),l("span",A,g(o(s).email),1)):p((i(),l("input",{key:1,"onUpdate:modelValue":u[1]||(u[1]=m=>o(s).email=m)},null,512)),[[_,o(s).email]])]),a("li",null,[v(" Phone Number: "),o(r)==!1?(i(),l("span",D,g(o(s).phone_number),1)):p((i(),l("input",{key:1,"onUpdate:modelValue":u[2]||(u[2]=m=>o(s).phone_number=m)},null,512)),[[_,o(s).phone_number]])])]),o(r)?(i(),l("button",{key:0,onClick:n},"Submit")):y("",!0)]),o(t)?(i(),$(P,{key:0})):y("",!0)])}}};export{q as default};
