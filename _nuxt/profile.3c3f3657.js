import{a as U,b as w,u as k}from"./entry.512a106e.js";import{q as l,I as u,J as s,L as p,M as c,u as e,V as v,U as g,W as y,x as V}from"./swiper-vue.f0e207ac.js";import{u as h}from"./fetch.77821ab7.js";import{u as b}from"./cookie.7617e78d.js";const $={class:"cpassword-modal"},x={class:"cpassword-modal-con"},B={__name:"ChangePassword",setup(C){const _=k(),m=w("cpassword_is_active"),i=b("user_info");let t={current_password:"",new_password:"",new_password_confirmation:""};async function a(){const{data:d,pending:n,refresh:o}=await h(`${_.public.baseURL}/api/user/changepassword`,{method:"POST",body:JSON.stringify(t),headers:{Authorization:"Bearer "+i.value.token}},"$hbqUopKmcA");i.value=d.value,console.log(d.value)}return(d,n)=>(l(),u("div",$,[s("div",{class:"cpassword-modal-overlay modal-overlay",onClick:n[0]||(n[0]=()=>{m.value=!1})}),s("div",x,[p(s("input",{"onUpdate:modelValue":n[1]||(n[1]=o=>e(t).current_password=o),placeholder:"Current Password",type:"password"},null,512),[[c,e(t).current_password]]),p(s("input",{"onUpdate:modelValue":n[2]||(n[2]=o=>e(t).new_password=o),placeholder:"New Password",type:"password"},null,512),[[c,e(t).new_password]]),p(s("input",{"onUpdate:modelValue":n[3]||(n[3]=o=>e(t).new_password_confirmation=o),placeholder:"Confirm New Password",type:"password"},null,512),[[c,e(t).new_password_confirmation]]),s("button",{onClick:a},"Submit")])]))}},N=U(B,[["__scopeId","data-v-5dc7729c"]]),S={class:"profile-page"},T={class:"wrapper"},E=s("h2",{class:"page-title"},"User Profile",-1),M={key:0},A={key:0},R={__name:"profile",setup(C){const _=k(),m=b("user_info"),i=w("is_editing_profile",()=>!1),t=w("cpassword_is_active",()=>!1),a=w("profile_form",()=>({email:"",phone_number:""}));m.value?h(`${_.public.baseURL}/api/user/get`,{method:"GET",headers:{Authorization:"Bearer "+m.value.token}},"$62j1b1lrVm").then(o=>{const r=o.data.value;a.value={email:r.email,phone_number:r.phone_number},console.log(a.value),console.log(o.data)}).catch(o=>{console.error(o)}):window.location.replace("/");function d(){i.value=!i.value}async function n(){const o=b("user_info");await h(`${_.public.baseURL}/api/user/update`,{method:"POST",headers:{Authorization:"Bearer "+o.value.token},body:JSON.stringify(a.value)},"$BME5qJrpDM"),window.location.reload(!0)}return(o,r)=>{const P=N;return l(),u("div",S,[s("div",T,[E,s("a",{onClick:d},"Edit"),v(),s("a",{onClick:r[0]||(r[0]=f=>t.value=!0)},"Change Password"),s("ul",null,[s("li",null,[v(" Email: "),e(i)==!1?(l(),u("span",M,g(e(a).email),1)):p((l(),u("input",{key:1,"onUpdate:modelValue":r[1]||(r[1]=f=>e(a).email=f)},null,512)),[[c,e(a).email]])]),s("li",null,[v(" Phone Number: "),e(i)==!1?(l(),u("span",A,g(e(a).phone_number),1)):p((l(),u("input",{key:1,"onUpdate:modelValue":r[2]||(r[2]=f=>e(a).phone_number=f)},null,512)),[[c,e(a).phone_number]])])]),e(i)?(l(),u("button",{key:0,onClick:n},"Submit")):y("",!0)]),e(t)?(l(),V(P,{key:0})):y("",!0)])}}};export{R as default};
