import{a as k,u as b,b as P}from"./entry.fb7de827.js";import{q as r,H as u,L as e,U as c,V as m,u as s,I as S,J as $,R as v,Q as y,N as C,x as N}from"./swiper-vue.cf378b39.js";import{u as x}from"./fetch.d9e73cbf.js";import{u as g}from"./cookie.c529037a.js";const U=a=>(S("data-v-a853e02c"),a=a(),$(),a),I={class:"cpassword-modal"},B={class:"cpassword-modal-con"},T=U(()=>e("h2",null,"Change Password",-1)),O=U(()=>e("br",null,null,-1)),E={__name:"ChangePassword",setup(a){const h=P(),d=b("cpassword_is_active"),l=g("user_info");let t={current_password:"",new_password:"",new_password_confirmation:""};async function o(){const{data:f,pending:n,refresh:i}=await x(`${h.public.baseURL}/api/user/changepassword`,{method:"POST",body:JSON.stringify(t),headers:{Authorization:"Bearer "+l.value.token}},"$hbqUopKmcA");l.value=f.value,window.location.reload(!0)}return(f,n)=>(r(),u("div",I,[e("div",{class:"cpassword-modal-overlay modal-overlay",onClick:n[0]||(n[0]=()=>{d.value=!1})}),e("div",B,[T,O,c(e("input",{"onUpdate:modelValue":n[1]||(n[1]=i=>s(t).current_password=i),placeholder:"Current Password",type:"password"},null,512),[[m,s(t).current_password]]),c(e("input",{"onUpdate:modelValue":n[2]||(n[2]=i=>s(t).new_password=i),placeholder:"New Password",type:"password"},null,512),[[m,s(t).new_password]]),c(e("input",{"onUpdate:modelValue":n[3]||(n[3]=i=>s(t).new_password_confirmation=i),placeholder:"Confirm New Password",type:"password"},null,512),[[m,s(t).new_password_confirmation]]),e("button",{onClick:o,class:"btn-input btn-input--submit"},"Submit")])]))}},R=k(E,[["__scopeId","data-v-a853e02c"]]);const _=a=>(S("data-v-a82ab5b9"),a=a(),$(),a),A={class:"profile-page"},D={class:"wrapper"},F=_(()=>e("h2",{class:"page-title"},"User Profile",-1)),J={class:"profile-nav"},L=_(()=>e("a",null,"Cash-In",-1)),q=_(()=>e("a",null,"Cash-Out",-1)),z=_(()=>e("b",null,"Email:",-1)),M={key:0},j=_(()=>e("b",null,"Phone Number:",-1)),H={key:0},K=_(()=>e("b",null,"Coin Balance:",-1)),Q={__name:"profile",setup(a){const h=P(),d=g("user_info").value,l=b("is_editing_profile",()=>!1),t=b("cpassword_is_active",()=>!1),o=b("profile_form",()=>{});o.value={email:d.user.email,phone_number:d.user.phone_number,coins:d.user.coins.length>0?d.user.coins[0].coin_balance:0},console.log(o.value);function f(){l.value=!l.value}async function n(){const i=g("user_info");await x(`${h.public.baseURL}/api/user/update`,{method:"POST",headers:{Authorization:"Bearer "+i.token},body:JSON.stringify(o.value)},"$62j1b1lrVm"),window.location.reload(!0)}return(i,p)=>{const V=R;return r(),u("div",A,[e("div",D,[F,e("div",J,[e("a",{onClick:f,class:"btn-input btn-input--edit"},"Edit"),e("a",{onClick:p[0]||(p[0]=w=>t.value=!0),class:"btn-input btn-input--change"},"Change Password"),L,q]),e("ul",null,[e("li",null,[z,v("   "),s(l)==!1?(r(),u("span",M,y(s(o).email),1)):c((r(),u("input",{key:1,"onUpdate:modelValue":p[1]||(p[1]=w=>s(o).email=w),type:"email"},null,512)),[[m,s(o).email]])]),e("li",null,[j,v("   "),s(l)==!1?(r(),u("span",H,y(s(o).phone_number),1)):c((r(),u("input",{key:1,"onUpdate:modelValue":p[2]||(p[2]=w=>s(o).phone_number=w)},null,512)),[[m,s(o).phone_number]])]),e("li",null,[K,v("   "),e("span",null,y(s(o).coins),1)])]),s(l)?(r(),u("button",{key:0,onClick:n,class:"btn-input btn-input--submit"},"Submit")):C("",!0)]),s(t)?(r(),N(V,{key:0})):C("",!0)])}}},Z=k(Q,[["__scopeId","data-v-a82ab5b9"]]);export{Z as default};
