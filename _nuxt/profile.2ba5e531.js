import{a as N,b,u as U}from"./entry.b9752520.js";import{q as n,I as i,J as e,L as c,M as m,u as o,H as S,V as h,U as C,W as P,x as T}from"./swiper-vue.f0e207ac.js";import{u as y}from"./fetch.7c467379.js";import{u as g}from"./cookie.ee46db4f.js";const E={class:"cpassword-modal"},A={class:"cpassword-modal-con"},M={__name:"ChangePassword",setup(x){const l=U(),f=b("cpassword_is_active"),p=g("user_info");let a={current_password:"",new_password:"",new_password_confirmation:""};async function t(){const{data:u,pending:s,refresh:r}=await y(`${l.public.baseURL}/api/user/changepassword`,{method:"POST",body:JSON.stringify(a),headers:{Authorization:"Bearer "+p.value.token}},"$hbqUopKmcA");p.value=u.value,console.log(u.value)}return(u,s)=>(n(),i("div",E,[e("div",{class:"cpassword-modal-overlay modal-overlay",onClick:s[0]||(s[0]=()=>{f.value=!1})}),e("div",A,[c(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>o(a).current_password=r),placeholder:"Current Password",type:"password"},null,512),[[m,o(a).current_password]]),c(e("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>o(a).new_password=r),placeholder:"New Password",type:"password"},null,512),[[m,o(a).new_password]]),c(e("input",{"onUpdate:modelValue":s[3]||(s[3]=r=>o(a).new_password_confirmation=r),placeholder:"Confirm New Password",type:"password"},null,512),[[m,o(a).new_password_confirmation]]),e("button",{onClick:t},"Submit")])]))}},D=N(M,[["__scopeId","data-v-5dc7729c"]]),J={class:"profile-page"},L={class:"wrapper"},O=e("h2",{class:"page-title"},"User Profile",-1),R={key:0},q={key:0},H={__name:"profile",async setup(x){let l,f;const p=U(),a=g("user_info"),t=b("is_editing_profile",()=>!1),u=b("cpassword_is_active",()=>!1),{data:s,pending:r,refresh:z}=([l,f]=S(()=>y(`${p.public.baseURL}/api/user/get`,{method:"GET",headers:{Authorization:"Bearer "+a.value.token}},"$62j1b1lrVm")),l=await l,f(),l),w=s.value,_={email:w.email,phone_number:w.phone_number};function V(){t.value=!t.value}async function $(){const k=g("user_info");await y(`${p.public.baseURL}/api/user/update`,{method:"POST",headers:{Authorization:"Bearer "+k.value.token},body:JSON.stringify(_)},"$BME5qJrpDM"),window.location.reload(!0)}return(k,d)=>{const B=D;return n(),i("div",J,[e("div",L,[O,e("a",{onClick:V},"Edit"),h(),e("a",{onClick:d[0]||(d[0]=v=>u.value=!0)},"Change Password"),e("ul",null,[e("li",null,[h(" Email: "),o(t)==!1?(n(),i("span",R,C(o(w).email),1)):c((n(),i("input",{key:1,"onUpdate:modelValue":d[1]||(d[1]=v=>_.email=v)},null,512)),[[m,_.email]])]),e("li",null,[h(" Phone Number: "),o(t)==!1?(n(),i("span",q,C(o(w).phone_number),1)):c((n(),i("input",{key:1,"onUpdate:modelValue":d[2]||(d[2]=v=>_.phone_number=v)},null,512)),[[m,_.phone_number]])])]),o(t)?(n(),i("button",{key:0,onClick:$},"Submit")):P("",!0)]),o(u)?(n(),T(B,{key:0})):P("",!0)])}}};export{H as default};
