import{a as y,b as U,u as D}from"./entry.fa4e8077.js";import{u as B}from"./fetch.8ff68f8a.js";import{u as g}from"./cookie.d520ff94.js";import{M as E,q as u,H as d,L as e,Q as L,u as o,z as n,y as l,R as r,O as F,N as T,I as H,J as R,$ as G}from"./swiper-vue.cf378b39.js";import{_ as J}from"./nuxt-link.75f4bc70.js";import{_ as O,a as W}from"./loader.50108b20.js";const q={class:"header"},P={class:"header-info"},Q={__name:"Header",async setup(s){let a,i;const _=U(),t=g("user_info");let c=t.value;const{data:p,refresh:x}=([a,i]=E(()=>B(`${_.public.baseURL}/api/user/get`,{method:"GET",headers:{Authorization:"Bearer "+c.token}},"$otMoZBYinG")),a=await a,i(),a);t.value.user=p.value;async function m(){await B(`${_.public.baseURL}/api/logout`,{method:"POST",headers:{Authorization:"Bearer "+c.token}},"$1MaMlyJxsn");const v=g("user_info");v.value=null,window.location.replace("/admin")}return(v,z)=>{var f,h,b,w,$,k,N,C,I,S,M,A;return u(),d("div",q,[e("div",P,[e("ul",null,[e("li",null,"Wallet: "+L(((b=(h=(f=o(t))==null?void 0:f.user)==null?void 0:h.wallets)==null?void 0:b.length)>0?(k=($=(w=o(t))==null?void 0:w.user)==null?void 0:$.wallets[0])==null?void 0:k.wallet_balance:0),1),e("li",null,"Coins: "+L(((I=(C=(N=o(t))==null?void 0:N.user)==null?void 0:C.coins)==null?void 0:I.length)>0?(A=(M=(S=o(t))==null?void 0:S.user)==null?void 0:M.coins[0])==null?void 0:A.coin_balance:0),1)])]),e("div",{class:"header-nav"},[e("a",{onClick:m,class:"btn-input btn-input--logout"},"Logout")])])}}},Y=y(Q,[["__scopeId","data-v-d03db596"]]);const V=s=>(H("data-v-c6080de8"),s=s(),R(),s),Z={class:"main-nav"},j=V(()=>e("li",null,[e("img",{src:O})],-1)),K=V(()=>e("br",null,null,-1)),X={__name:"MainNav",setup(s){const a=g("user_info").value;return a.user.user_type.name=="user"&&window.location.replace("/403"),(i,_)=>{const t=J;return u(),d("div",Z,[e("ul",null,[j,K,e("li",null,[n(t,{to:"/","exact-active-class":"active"},{default:l(()=>[r("Website")]),_:1})]),e("li",null,[n(t,{to:"/admin","exact-active-class":"active"},{default:l(()=>[r("Dashboard")]),_:1})]),o(a).user.user_type.name=="admin"||o(a).user.user_type.name=="root"?(u(),d(F,{key:0},[e("li",null,[n(t,{to:"/admin/users","exact-active-class":"active"},{default:l(()=>[r("Users")]),_:1})]),e("li",null,[n(t,{to:"/admin/agents","exact-active-class":"active"},{default:l(()=>[r("Agents")]),_:1})])],64)):T("",!0),e("li",null,[n(t,{to:"/admin/transfer","exact-active-class":"active"},{default:l(()=>[r("Transfer")]),_:1})])])])}}},ee=y(X,[["__scopeId","data-v-c6080de8"]]);const te=s=>(H("data-v-8dbad506"),s=s(),R(),s),ae={class:"app"},se={class:"admin-con"},ne={class:"content"},oe={key:0,class:"content-loader"},_e=te(()=>e("img",{src:W},null,-1)),ie=[_e],ce={__name:"admin",setup(s){var _,t,c,p,x,m;const a=g("user_info");a.value?((c=(t=(_=a.value)==null?void 0:_.user)==null?void 0:t.user_type)==null?void 0:c.name)!="admin"&&((m=(x=(p=a.value)==null?void 0:p.user)==null?void 0:x.user_type)==null?void 0:m.name)!="root"&&window.location.replace("/"):window.location.replace("/admin/login");const i=D("content_is_loading",()=>!1);return(v,z)=>{const f=Y,h=ee;return u(),d("div",ae,[e("div",se,[e("div",ne,[n(f),G(v.$slots,"default",{},void 0,!0),o(i)?(u(),d("div",oe,ie)):T("",!0)]),n(h)])])}}},ve=y(ce,[["__scopeId","data-v-8dbad506"]]);export{ve as default};
