import{a as B,b as h,u as P}from"./entry.f7ce7b25.js";import{q as t,H as l,L as a,M as _,N as c,u as e,$ as N,Q as v,R as b,P as C,x as V}from"./swiper-vue.139b05b4.js";import{a as y,u as g}from"./cookie.2d299cf7.js";const S={class:"cpassword-modal"},T={class:"cpassword-modal-con"},E={__name:"ChangePassword",setup($){const u=P(),m=h("cpassword_is_active"),d=y("user_info");let n={current_password:"",new_password:"",new_password_confirmation:""};async function r(){const{data:p,pending:o,refresh:s}=await g(`${u.public.baseURL}/api/user/changepassword`,{method:"POST",body:JSON.stringify(n),headers:{Authorization:"Bearer "+d.value.token}},"$hbqUopKmcA");d.value=p.value,window.location.reload(!0)}return(p,o)=>(t(),l("div",S,[a("div",{class:"cpassword-modal-overlay modal-overlay",onClick:o[0]||(o[0]=()=>{m.value=!1})}),a("div",T,[_(a("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>e(n).current_password=s),placeholder:"Current Password",type:"password"},null,512),[[c,e(n).current_password]]),_(a("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>e(n).new_password=s),placeholder:"New Password",type:"password"},null,512),[[c,e(n).new_password]]),_(a("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>e(n).new_password_confirmation=s),placeholder:"Confirm New Password",type:"password"},null,512),[[c,e(n).new_password_confirmation]]),a("button",{onClick:r},"Submit")])]))}},A=B(E,[["__scopeId","data-v-943d2cc0"]]),M={class:"profile-page"},R={class:"wrapper"},D=a("h2",{class:"page-title"},"User Profile",-1),L={key:0},O={key:0},J={__name:"profile",async setup($){let u,m;const d=P(),n=y("user_info"),r=h("is_editing_profile",()=>!1),p=h("cpassword_is_active",()=>!1),o=h("profile_form",()=>{});let s={};if(n.value){const{data:w,pending:i,refresh:k}=([u,m]=N(()=>g(`${d.public.baseURL}/api/user/get`,{method:"GET",headers:{Authorization:"Bearer "+n.value.token}},"$62j1b1lrVm")),u=await u,m(),u);s=w.value,console.log(s),o.value={email:s.email,phone_number:s.phone_number}}else window.location.replace("/");function x(){r.value=!r.value}async function U(){const w=y("user_info");await g(`${d.public.baseURL}/api/user/update`,{method:"POST",headers:{Authorization:"Bearer "+w.value.token},body:JSON.stringify(o.value)},"$BME5qJrpDM"),window.location.reload(!0)}return(w,i)=>{const k=A;return t(),l("div",M,[a("div",R,[D,a("a",{onClick:x},"Edit"),v(),a("a",{onClick:i[0]||(i[0]=f=>p.value=!0)},"Change Password"),a("ul",null,[a("li",null,[v(" Email: "),e(r)==!1?(t(),l("span",L,b(e(s)&&e(s).email),1)):_((t(),l("input",{key:1,"onUpdate:modelValue":i[1]||(i[1]=f=>e(o).email=f),type:"email"},null,512)),[[c,e(o).email]])]),a("li",null,[v(" Phone Number: "),e(r)==!1?(t(),l("span",O,b(e(s)&&e(s).phone_number),1)):_((t(),l("input",{key:1,"onUpdate:modelValue":i[2]||(i[2]=f=>e(o).phone_number=f)},null,512)),[[c,e(o).phone_number]])]),a("li",null,[v(" Coin Balance: "),a("span",null,b(e(o).coins),1)])]),e(r)?(t(),l("button",{key:0,onClick:U},"Submit")):C("",!0)]),e(p)?(t(),V(k,{key:0})):C("",!0)])}}};export{J as default};
