import{a as k,u as w,b as C}from"./entry.0dac9996.js";import{q as i,H as l,L as o,M as _,N as c,u as e,Q as h,O as y,U as g,x,I as U,J as N}from"./swiper-vue.7d34c639.js";import{u as P}from"./fetch.6614749d.js";import{u as b}from"./cookie.7f0cdbe8.js";const V={class:"cpassword-modal"},$={class:"cpassword-modal-con"},B={__name:"ChangePassword",setup(p){const v=C(),d=w("cpassword_is_active"),r=b("user_info");let n={current_password:"",new_password:"",new_password_confirmation:""};async function s(){const{data:m,pending:a,refresh:t}=await P(`${v.public.baseURL}/api/user/changepassword`,{method:"POST",body:JSON.stringify(n),headers:{Authorization:"Bearer "+r.value.token}},"$hbqUopKmcA");r.value=m.value,window.location.reload(!0)}return(m,a)=>(i(),l("div",V,[o("div",{class:"cpassword-modal-overlay modal-overlay",onClick:a[0]||(a[0]=()=>{d.value=!1})}),o("div",$,[_(o("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>e(n).current_password=t),placeholder:"Current Password",type:"password"},null,512),[[c,e(n).current_password]]),_(o("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>e(n).new_password=t),placeholder:"New Password",type:"password"},null,512),[[c,e(n).new_password]]),_(o("input",{"onUpdate:modelValue":a[3]||(a[3]=t=>e(n).new_password_confirmation=t),placeholder:"Confirm New Password",type:"password"},null,512),[[c,e(n).new_password_confirmation]]),o("button",{onClick:s},"Submit")])]))}},I=k(B,[["__scopeId","data-v-943d2cc0"]]);const T=p=>(U("data-v-6d93afd1"),p=p(),N(),p),O={class:"profile-page"},E={class:"wrapper"},A=T(()=>o("h2",{class:"page-title"},"User Profile",-1)),D={class:"profile-nav"},F={key:0},J={key:0},L={__name:"profile",setup(p){const v=C(),d=b("user_info").value,r=w("is_editing_profile",()=>!1),n=w("cpassword_is_active",()=>!1),s=w("profile_form",()=>{});s.value={email:d.user.email,phone_number:d.user.phone_number,coins:d.user.coins.length>0?d.user.coins[0].coin_balance:0},console.log(s.value);function m(){r.value=!r.value}async function a(){const t=b("user_info");await P(`${v.public.baseURL}/api/user/update`,{method:"POST",headers:{Authorization:"Bearer "+t.token},body:JSON.stringify(s.value)},"$62j1b1lrVm"),window.location.reload(!0)}return(t,u)=>{const S=I;return i(),l("div",O,[o("div",E,[A,o("div",D,[o("a",{onClick:m},"Edit"),o("a",{onClick:u[0]||(u[0]=f=>n.value=!0)},"Change Password")]),o("ul",null,[o("li",null,[h(" Email: "),e(r)==!1?(i(),l("span",F,y(e(s).email),1)):_((i(),l("input",{key:1,"onUpdate:modelValue":u[1]||(u[1]=f=>e(s).email=f),type:"email"},null,512)),[[c,e(s).email]])]),o("li",null,[h(" Phone Number: "),e(r)==!1?(i(),l("span",J,y(e(s).phone_number),1)):_((i(),l("input",{key:1,"onUpdate:modelValue":u[2]||(u[2]=f=>e(s).phone_number=f)},null,512)),[[c,e(s).phone_number]])]),o("li",null,[h(" Coin Balance: "),o("span",null,y(e(s).coins),1)])]),e(r)?(i(),l("button",{key:0,onClick:a},"Submit")):g("",!0)]),e(n)?(i(),x(S,{key:0})):g("",!0)])}}},j=k(L,[["__scopeId","data-v-6d93afd1"]]);export{j as default};
