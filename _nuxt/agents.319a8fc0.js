import{P as x,D as M,_ as R,a as V,b as z,c as j}from"./jquery.dataTables.e0f279b2.js";import{a as F,u as n,b as G}from"./entry.fb7de827.js";import{u as H}from"./fetch.d9e73cbf.js";import{u as Q}from"./cookie.c529037a.js";import{M as D,j as q,H as r,L as e,u as o,z as J,y as O,x as h,N as d,O as P,q as l,P as K,I as W,J as X,Q as _,R as v}from"./swiper-vue.cf378b39.js";const f=c=>(W("data-v-944c3f0d"),c=c(),X(),c),Y={class:"agents-page"},Z=f(()=>e("h2",{class:"page-title"},"Users",-1)),ee={class:"table-nav"},te=f(()=>e("img",{src:R},null,-1)),ae=[te],se=f(()=>e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Username"),e("th",null,"Email"),e("th",null,"Phone Number"),e("th",null,"Coin Balance"),e("th",null,"Action")])],-1)),ne=["onClick"],oe=["onClick"],le={__name:"agents",async setup(c){let t,i;x.use(M);const g=G(),m=Q("user_info"),k=n("details_modal_is_active",()=>!1),p=n("add_modal_is_active",()=>!1),y=n("delete_modal_is_active",()=>!1),w=n("user_to_view",()=>{}),A=n("user_to_delete",()=>{}),C=n("content_is_loading");C.value=!0;const{data:B,pending:_e,refresh:ce}=([t,i]=D(()=>H(`${g.public.baseURL}/api/agents/all`,{method:"GET",headers:{Authorization:"Bearer "+m.value.token}},"$Pj2Qw3Hexl")),t=await t,i(),t),U=B.value,I=([t,i]=D(()=>$fetch(`${g.public.baseURL}/api/user/types`,{method:"GET",headers:{Authorization:"Bearer "+m.value.token}})),t=await t,i(),t);n("user_types",()=>I),C.value=!1;function N(s){k.value=!0,w.value=s}async function $(s){y.value=!0,A.value=s}return q(()=>{const s=(currentPage-1)*itemsPerPage,u=s+itemsPerPage;return[].slice(s,u)}),(s,u)=>{const b=V,S=z,T=j;return l(),r(P,null,[e("div",Y,[Z,e("div",ee,[e("a",{onClick:u[0]||(u[0]=()=>p.value=!o(p))},ae)]),J(o(x),{class:"display"},{default:O(()=>[se,e("tbody",null,[(l(!0),r(P,null,K(o(U),(a,E)=>(l(),r("tr",{key:E},[e("td",null,_(a.id),1),e("td",null,_(a.username),1),e("td",null,_(a.email),1),e("td",null,_(a.phone_number),1),e("td",null,_(a.coins.length>0?a.coins[0].coin_balance:0),1),e("td",null,[v(" ( "),e("a",{onClick:L=>N(a)},"Details",8,ne),v(),o(m).user.user_type.name=="admin"?(l(),r("a",{key:0,onClick:L=>$(a)},"Delete",8,oe)):d("",!0),v(" ) ")])]))),128))])]),_:1})]),o(k)?(l(),h(b,{key:0})):d("",!0),o(p)?(l(),h(S,{key:1})):d("",!0),o(y)?(l(),h(T,{key:2})):d("",!0)],64)}}},pe=F(le,[["__scopeId","data-v-944c3f0d"]]);export{pe as default};
