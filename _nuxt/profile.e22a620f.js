import{a as x,u as w,b as U}from"./entry.fa4e8077.js";import{q as a,H as i,L as e,U as v,V as b,u as s,I as V,J as I,a as C,R as k,Q as h,N as P,O,P as R,x as L}from"./swiper-vue.cf378b39.js";import{u as $}from"./fetch.8ff68f8a.js";import{u as N}from"./cookie.d520ff94.js";const A=r=>(V("data-v-7da04d97"),r=r(),I(),r),E={class:"cpassword-modal"},j={class:"cpassword-modal-con"},D=A(()=>e("h2",null,"Change Password",-1)),F=A(()=>e("br",null,null,-1)),z={__name:"ChangePassword",setup(r){const g=U(),n=w("cpassword_is_active"),d=N("user_info");let l={current_password:"",new_password:"",new_password_confirmation:""};async function t(){const{data:m,pending:o,refresh:u}=await $(`${g.public.baseURL}/api/user/changepassword`,{method:"POST",body:JSON.stringify(l),headers:{Authorization:"Bearer "+d.value.token}},"$hbqUopKmcA");d.value=m.value,window.location.reload(!0)}return(m,o)=>(a(),i("div",E,[e("div",{class:"cpassword-modal-overlay modal-overlay",onClick:o[0]||(o[0]=()=>{n.value=!1})}),e("div",j,[D,F,v(e("input",{"onUpdate:modelValue":o[1]||(o[1]=u=>s(l).current_password=u),placeholder:"Current Password",type:"password"},null,512),[[b,s(l).current_password]]),v(e("input",{"onUpdate:modelValue":o[2]||(o[2]=u=>s(l).new_password=u),placeholder:"New Password",type:"password"},null,512),[[b,s(l).new_password]]),v(e("input",{"onUpdate:modelValue":o[3]||(o[3]=u=>s(l).new_password_confirmation=u),placeholder:"Confirm New Password",type:"password"},null,512),[[b,s(l).new_password_confirmation]]),e("button",{onClick:o[4]||(o[4]=u=>n.value=!1),class:"btn-input btn-input--cancel"},"Cancel"),e("button",{onClick:t,class:"btn-input btn-input--submit"},"Submit")])]))}},J=x(z,[["__scopeId","data-v-7da04d97"]]);const _=r=>(V("data-v-fe86c5f2"),r=r(),I(),r),q={class:"profile-page"},M={class:"wrapper"},G=_(()=>e("h2",{class:"page-title"},"User Profile",-1)),H=_(()=>e("br",null,null,-1)),K={class:"profile-nav"},Q=_(()=>e("span",{class:"slider round"},"EDIT",-1)),Y=_(()=>e("a",{href:"javascript:;"},"Cash-Out",-1)),W=_(()=>e("b",null,"Email:",-1)),X={key:0},Z=_(()=>e("b",null,"Phone Number:",-1)),ee={key:0},se=_(()=>e("b",null,"Coin Balance:",-1)),oe={key:1,class:"online-agents"},ne=_(()=>e("h2",null,"Available Agents:",-1)),te=["href"],ae={__name:"profile",setup(r){const g=U(),n=N("user_info").value,d=w("is_editing_profile",()=>!1),l=w("cpassword_is_active",()=>!1),t=w("profile_form",()=>{});w("user_search"),C();const m=C(),o=C(!1);t.value={email:n.user.email,phone_number:n.user.phone_number,coins:n.user.coins.length>0?n.user.coins[0].coin_balance:0};function u(){d.value=!d.value}async function B(){const{data:f,pending:c,refresh:y}=await $(`${g.public.baseURL}/api/user/update`,{method:"POST",headers:{Authorization:"Bearer "+n.token},body:JSON.stringify(t.value)},"$62j1b1lrVm");f&&(console.log(n),console.log(f.value),n.user=f.value.user)}async function S(){const{data:f,pending:c,refresh:y}=await $(`${g.public.baseURL}/api/agents/online`,{method:"GET",headers:{Authorization:"Bearer "+n.token}},"$cbRhwrLY3P");f?(m.value=f.value.agents,o.value=!0):console.log("An error occurred")}return(f,c)=>{const y=J;return a(),i("div",q,[e("div",M,[G,H,e("div",K,[e("a",null,[e("label",{class:"switch"},[e("input",{type:"checkbox",onClick:u}),Q])]),e("a",{onClick:c[0]||(c[0]=p=>l.value=!0),class:"btn-input btn-input--change"},"Change Password"),e("a",{href:"javascript:;",onClick:S},"Cash-In"),Y]),e("ul",null,[e("li",null,[W,k("   "),s(d)==!1?(a(),i("span",X,h(s(t).email),1)):v((a(),i("input",{key:1,"onUpdate:modelValue":c[1]||(c[1]=p=>s(t).email=p),type:"email"},null,512)),[[b,s(t).email]])]),e("li",null,[Z,k("   "),s(d)==!1?(a(),i("span",ee,h(s(t).phone_number),1)):v((a(),i("input",{key:1,"onUpdate:modelValue":c[2]||(c[2]=p=>s(t).phone_number=p)},null,512)),[[b,s(t).phone_number]])]),e("li",null,[se,k("   "),e("span",null,h(s(t).coins),1)])]),s(d)?(a(),i("button",{key:0,onClick:B,class:"btn-input btn-input--submit"},"Submit")):P("",!0),s(o)?(a(),i("div",oe,[ne,e("a",{href:"javascript:;",onClick:S},"Refresh"),e("ul",null,[(a(!0),i(O,null,R(s(m),(p,T)=>(a(),i("li",{key:T},[k(h(p.user.username)+" - ",1),e("a",{href:p.link,target:"_blank"},h(p.link||"link not set"),9,te)]))),128))])])):P("",!0)]),s(l)?(a(),L(y,{key:0})):P("",!0)])}}},de=x(ae,[["__scopeId","data-v-fe86c5f2"]]);export{de as default};
