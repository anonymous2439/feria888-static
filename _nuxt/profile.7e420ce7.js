import{a as $,b as w,u as k}from"./entry.eca203b3.js";import{q as t,I as l,J as a,L as p,M as _,u as e,H as N,V as v,U as y,W as g,x as B}from"./swiper-vue.f0e207ac.js";import{u as C}from"./fetch.6b11af2c.js";import{u as P}from"./cookie.f008d85c.js";const S={class:"cpassword-modal"},T={class:"cpassword-modal-con"},E={__name:"ChangePassword",setup(x){const u=k(),c=w("cpassword_is_active"),m=P("user_info");let n={current_password:"",new_password:"",new_password_confirmation:""};async function r(){const{data:d,pending:o,refresh:s}=await C(`${u.public.baseURL}/api/user/changepassword`,{method:"POST",body:JSON.stringify(n),headers:{Authorization:"Bearer "+m.value.token}},"$hbqUopKmcA");m.value=d.value,console.log(d.value)}return(d,o)=>(t(),l("div",S,[a("div",{class:"cpassword-modal-overlay modal-overlay",onClick:o[0]||(o[0]=()=>{c.value=!1})}),a("div",T,[p(a("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>e(n).current_password=s),placeholder:"Current Password",type:"password"},null,512),[[_,e(n).current_password]]),p(a("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>e(n).new_password=s),placeholder:"New Password",type:"password"},null,512),[[_,e(n).new_password]]),p(a("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>e(n).new_password_confirmation=s),placeholder:"Confirm New Password",type:"password"},null,512),[[_,e(n).new_password_confirmation]]),a("button",{onClick:r},"Submit")])]))}},A=$(E,[["__scopeId","data-v-5dc7729c"]]),D={class:"profile-page"},F={class:"wrapper"},L=a("h2",{class:"page-title"},"User Profile",-1),M={key:0},R={key:0},O={__name:"profile",async setup(x){let u,c;const m=k(),n=P("user_info"),r=w("is_editing_profile",()=>!1),d=w("cpassword_is_active",()=>!1),o=w("profile_form",()=>null);let s={};if(n.value){const{data:h,pending:i,refresh:b}=([u,c]=N(()=>C(`${m.public.baseURL}/api/user/get`,{method:"GET",headers:{Authorization:"Bearer "+n.value.token}},"$62j1b1lrVm")),u=await u,c(),u);s=h.value,o.value={email:s.email,phone_number:s.phone_number}}else window.location.replace("/");function U(){r.value=!r.value}async function V(){}return(h,i)=>{const b=A;return t(),l("div",D,[a("div",F,[L,a("a",{onClick:U},"Edit"),v(),a("a",{onClick:i[0]||(i[0]=f=>d.value=!0)},"Change Password"),a("ul",null,[a("li",null,[v(" Email: "),e(r)==!1?(t(),l("span",M,y(e(s)&&e(s).email),1)):p((t(),l("input",{key:1,"onUpdate:modelValue":i[1]||(i[1]=f=>e(o).email=f)},null,512)),[[_,e(o).email]])]),a("li",null,[v(" Phone Number: "),e(r)==!1?(t(),l("span",R,y(e(s)&&e(s).phone_number),1)):p((t(),l("input",{key:1,"onUpdate:modelValue":i[2]||(i[2]=f=>e(o).phone_number=f)},null,512)),[[_,e(o).phone_number]])])]),e(r)?(t(),l("button",{key:0,onClick:V},"Submit")):g("",!0)]),e(d)?(t(),B(b,{key:0})):g("",!0)])}}};export{O as default};
