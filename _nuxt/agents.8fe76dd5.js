import{P as A,D as M,_ as R,a as V,b as F,c as G}from"./jquery.dataTables.7e3a65f1.js";import{a as H,u as n,b as Q}from"./entry.3be64904.js";import{u as q}from"./fetch.8d7b9169.js";import{u as J}from"./cookie.1a36ff8d.js";import{M as P,j as O,H as d,L as e,u as o,z as K,y as W,x as v,N as u,O as w,q as l,P as X,Q as _,R as Y,U as m,I as Z,J as ee}from"./swiper-vue.ab7c0c95.js";const p=i=>(Z("data-v-2fca4e60"),i=i(),ee(),i),te={class:"agents-page"},ae=p(()=>e("h2",{class:"page-title"},"Agents",-1)),se={class:"table-nav"},ne=p(()=>e("img",{src:R},null,-1)),oe=[ne],le=p(()=>e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Username"),e("th",null,"Email"),e("th",null,"Phone Number"),e("th",null,"Status"),e("th",null,"Action")])],-1)),_e=["href"],ie=p(()=>e("a",{href:"javascript:;"},"Transactions",-1)),ce=["onClick"],re=["onClick"],de={__name:"agents",async setup(i){let a,c;A.use(M);const g=Q(),h=J("user_info"),k=n("details_modal_is_active",()=>!1),f=n("add_modal_is_active",()=>!1),y=n("delete_modal_is_active",()=>!1),U=n("user_to_view",()=>{}),B=n("user_to_delete",()=>{}),C=n("content_is_loading");C.value=!0;const{data:I,pending:ue,refresh:me}=([a,c]=P(()=>q(`${g.public.baseURL}/api/agents/all`,{method:"GET",headers:{Authorization:"Bearer "+h.value.token}},"$Pj2Qw3Hexl")),a=await a,c(),a),N=I.value,S=([a,c]=P(()=>$fetch(`${g.public.baseURL}/api/user/types`,{method:"GET",headers:{Authorization:"Bearer "+h.value.token}})),a=await a,c(),a);n("user_types",()=>S),C.value=!1;function T(s){k.value=!0,U.value=s}async function $(s){y.value=!0,B.value=s}return O(()=>{const s=(currentPage-1)*itemsPerPage,r=s+itemsPerPage;return[].slice(s,r)}),(s,r)=>{const b=V,j=F,z=G;return l(),d(w,null,[e("div",te,[ae,e("div",se,[e("a",{onClick:r[0]||(r[0]=()=>f.value=!o(f))},oe)]),K(o(A),{class:"display"},{default:W(()=>[le,e("tbody",null,[(l(!0),d(w,null,X(o(N),(t,E)=>{var x,D;return l(),d("tr",{key:E},[e("td",null,_(t.id),1),e("td",null,_(t.username),1),e("td",null,[e("a",{href:t.email,target:"_blank"},_(t.email),9,_e)]),e("td",null,_(t.phone_number),1),e("td",null,[e("span",{class:Y("status status-"+((x=t==null?void 0:t.agent)==null?void 0:x.status))},_((D=t==null?void 0:t.agent)==null?void 0:D.status),3)]),e("td",null,[m(" ( "),ie,m(),e("a",{href:"javascript:;1=",onClick:L=>T(t)},"Details",8,ce),m(),o(h).user.user_type.name=="admin"?(l(),d("a",{key:0,href:"javascript:;",onClick:L=>$(t)},"Delete",8,re)):u("",!0),m(" ) ")])])}),128))])]),_:1})]),o(k)?(l(),v(b,{key:0})):u("",!0),o(f)?(l(),v(j,{key:1})):u("",!0),o(y)?(l(),v(z,{key:2})):u("",!0)],64)}}},ke=H(de,[["__scopeId","data-v-2fca4e60"]]);export{ke as default};
