import{a as $,b as v,u as P}from"./entry.ab541263.js";import{q as t,I as l,J as a,L as _,M as c,u as e,H as B,V as h,U as k,W as C,x as N}from"./swiper-vue.f0e207ac.js";import{u as b}from"./fetch.596edc94.js";import{u as y}from"./cookie.37dd44ee.js";const S={class:"cpassword-modal"},T={class:"cpassword-modal-con"},E={__name:"ChangePassword",setup(U){const u=P(),m=v("cpassword_is_active"),p=y("user_info");let n={current_password:"",new_password:"",new_password_confirmation:""};async function r(){const{data:d,pending:o,refresh:s}=await b(`${u.public.baseURL}/api/user/changepassword`,{method:"POST",body:JSON.stringify(n),headers:{Authorization:"Bearer "+p.value.token}},"$hbqUopKmcA");p.value=d.value,console.log(d.value)}return(d,o)=>(t(),l("div",S,[a("div",{class:"cpassword-modal-overlay modal-overlay",onClick:o[0]||(o[0]=()=>{m.value=!1})}),a("div",T,[_(a("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>e(n).current_password=s),placeholder:"Current Password",type:"password"},null,512),[[c,e(n).current_password]]),_(a("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>e(n).new_password=s),placeholder:"New Password",type:"password"},null,512),[[c,e(n).new_password]]),_(a("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>e(n).new_password_confirmation=s),placeholder:"Confirm New Password",type:"password"},null,512),[[c,e(n).new_password_confirmation]]),a("button",{onClick:r},"Submit")])]))}},A=$(E,[["__scopeId","data-v-5dc7729c"]]),M={class:"profile-page"},D={class:"wrapper"},J=a("h2",{class:"page-title"},"User Profile",-1),L={key:0},O={key:0},I={__name:"profile",async setup(U){let u,m;const p=P(),n=y("user_info"),r=v("is_editing_profile",()=>!1),d=v("cpassword_is_active",()=>!1),o=v("profile_form",()=>null);let s={};if(n.value){const{data:f,pending:i,refresh:g}=([u,m]=B(()=>b(`${p.public.baseURL}/api/user/get`,{method:"GET",headers:{Authorization:"Bearer "+n.value.token}},"$62j1b1lrVm")),u=await u,m(),u);s=f.value,o.value={email:s.email?s:"",phone_number:s.phone_number?s:""}}else window.location.replace("/");function x(){r.value=!r.value}async function V(){const f=y("user_info");await b(`${p.public.baseURL}/api/user/update`,{method:"POST",headers:{Authorization:"Bearer "+f.value.token},body:JSON.stringify(o.value)},"$BME5qJrpDM"),window.location.reload(!0)}return(f,i)=>{const g=A;return t(),l("div",M,[a("div",D,[J,a("a",{onClick:x},"Edit"),h(),a("a",{onClick:i[0]||(i[0]=w=>d.value=!0)},"Change Password"),a("ul",null,[a("li",null,[h(" Email: "),e(r)==!1?(t(),l("span",L,k(e(s)&&e(s).email),1)):_((t(),l("input",{key:1,"onUpdate:modelValue":i[1]||(i[1]=w=>e(o).email=w)},null,512)),[[c,e(o).email]])]),a("li",null,[h(" Phone Number: "),e(r)==!1?(t(),l("span",O,k(e(s)&&e(s).phone_number),1)):_((t(),l("input",{key:1,"onUpdate:modelValue":i[2]||(i[2]=w=>e(o).phone_number=w)},null,512)),[[c,e(o).phone_number]])])]),e(r)?(t(),l("button",{key:0,onClick:V},"Submit")):C("",!0)]),e(d)?(t(),N(g,{key:0})):C("",!0)])}}};export{I as default};
