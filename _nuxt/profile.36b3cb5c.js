import{a as V,b as h,u as P}from"./entry.93cc7722.js";import{q as t,I as p,J as e,L as m,M as f,u as n,H as $,V as v,U as k,W as C,x as B}from"./swiper-vue.f0e207ac.js";import{u as b}from"./fetch.e7966871.js";import{u as y}from"./cookie.2aa700b6.js";const N={class:"cpassword-modal"},S={class:"cpassword-modal-con"},T={__name:"ChangePassword",setup(U){const d=P(),w=h("cpassword_is_active"),c=y("user_info");let s={current_password:"",new_password:"",new_password_confirmation:""};async function i(){const{data:_,pending:a,refresh:r}=await b(`${d.public.baseURL}/api/user/changepassword`,{method:"POST",body:JSON.stringify(s),headers:{Authorization:"Bearer "+c.value.token}},"$hbqUopKmcA");c.value=_.value,console.log(_.value)}return(_,a)=>(t(),p("div",N,[e("div",{class:"cpassword-modal-overlay modal-overlay",onClick:a[0]||(a[0]=()=>{w.value=!1})}),e("div",S,[m(e("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>n(s).current_password=r),placeholder:"Current Password",type:"password"},null,512),[[f,n(s).current_password]]),m(e("input",{"onUpdate:modelValue":a[2]||(a[2]=r=>n(s).new_password=r),placeholder:"New Password",type:"password"},null,512),[[f,n(s).new_password]]),m(e("input",{"onUpdate:modelValue":a[3]||(a[3]=r=>n(s).new_password_confirmation=r),placeholder:"Confirm New Password",type:"password"},null,512),[[f,n(s).new_password_confirmation]]),e("button",{onClick:i},"Submit")])]))}},E=V(T,[["__scopeId","data-v-5dc7729c"]]),A={class:"profile-page"},M={class:"wrapper"},D=e("h2",{class:"page-title"},"User Profile",-1),J={key:0},L={key:0},F={__name:"profile",async setup(U){let d,w;const c=P(),s=y("user_info"),i=h("is_editing_profile",()=>!1),_=h("cpassword_is_active",()=>!1);if(console.log(s.value),s.value){const{data:o,pending:l,refresh:g}=([d,w]=$(()=>b(`${c.public.baseURL}/api/user/get`,{method:"GET",headers:{Authorization:"Bearer "+s.value.token}},"$62j1b1lrVm")),d=await d,w(),d),u=o.value;u.email,u.phone_number}else window.location.replace("/");function a(){i.value=!i.value}async function r(){const o=y("user_info");await b(`${c.public.baseURL}/api/user/update`,{method:"POST",headers:{Authorization:"Bearer "+o.value.token},body:JSON.stringify(profile_form)},"$BME5qJrpDM"),window.location.reload(!0)}return(o,l)=>{const g=E;return t(),p("div",A,[e("div",M,[D,e("a",{onClick:a},"Edit"),v(),e("a",{onClick:l[0]||(l[0]=u=>_.value=!0)},"Change Password"),e("ul",null,[e("li",null,[v(" Email: "),n(i)==!1?(t(),p("span",J,k(o.user&&o.user.email),1)):m((t(),p("input",{key:1,"onUpdate:modelValue":l[1]||(l[1]=u=>o.profile_form.email=u)},null,512)),[[f,o.profile_form.email]])]),e("li",null,[v(" Phone Number: "),n(i)==!1?(t(),p("span",L,k(o.user&&o.user.phone_number),1)):m((t(),p("input",{key:1,"onUpdate:modelValue":l[2]||(l[2]=u=>o.profile_form.phone_number=u)},null,512)),[[f,o.profile_form.phone_number]])])]),n(i)?(t(),p("button",{key:0,onClick:r},"Submit")):C("",!0)]),n(_)?(t(),B(g,{key:0})):C("",!0)])}}};export{F as default};
