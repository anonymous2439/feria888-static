import{H as b,L as e,M as d,P as _,Q as c,N as m,u as t,R as g,q as y}from"./swiper-vue.7d34c639.js";import{u as S,b as U}from"./entry.0dac9996.js";import{u as p}from"./fetch.6614749d.js";import{u as k}from"./cookie.7f0cdbe8.js";const A=e("h2",{class:"page-title"},"Transfer",-1),T=["onSubmit"],V=e("button",{type:"submit"},"Search",-1),$={class:"user-details"},w=["value"],B=["value"],C=["onSubmit"],L=e("button",null,"Load Coins",-1),M={__name:"transfer",setup(R){const l=U(),i=k("user_info"),u=S("user_details"),r={value:null};let a={id:null,username:null,coins:null,amount:null};async function f(){const{data:n,pending:o,refresh:s}=await p(`${l.public.baseURL}/api/user/search/${r.value}`,{method:"GET",headers:{Authorization:"Bearer "+i.value.token}},"$VpKtR1QDXy");n.value?(u.value=n.value,a.id=n.value.id,a.username=n.value.username,a.email=n.value.email,a.phone_number=n.value.phone_number,a.coins=n.value.coins[0].coin_balance):console.log("An error occurred")}async function h(){v(a.id,a.amount);const{data:n,pending:o,refresh:s}=await p(`${l.public.baseURL}/api/coins/load`,{method:"POST",body:JSON.stringify({user_id:a.id,amount:a.amount}),headers:{Authorization:"Bearer "+i.value.token}},"$GesZZKWeDh");n.value?u.value=n.value:console.log("An error occurred")}async function v(n,o){const{data:s,pending:D,refresh:N}=await p(`${l.public.baseURL}/api/wallet/load`,{method:"POST",body:JSON.stringify({user_id:n,amount:o*-1}),headers:{Authorization:"Bearer "+i.value.token}},"$sk3yKiVnfh");s||console.log("An error occurred")}return(n,o)=>(y(),b(g,null,[A,e("form",{onSubmit:_(f,["prevent"])},[d(e("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>r.value=s),placeholder:"ID / Username"},null,512),[[m,r.value]]),V],40,T),e("div",$,[e("p",null,[c("ID: "),d(e("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>t(a).id=s),disabled:""},null,512),[[m,t(a).id]])]),e("p",null,[c("Username: "),e("input",{value:t(u)?t(u).username:"",disabled:""},null,8,w)]),e("p",null,[c("Coin balance: "),e("input",{value:t(u)?t(u).coins[0].coin_balance:"",disabled:""},null,8,B)]),e("form",{onSubmit:_(h,["prevent"])},[d(e("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>t(a).amount=s),placeholder:"Amount"},null,512),[[m,t(a).amount]]),L],40,C)])],64))}};export{M as default};
