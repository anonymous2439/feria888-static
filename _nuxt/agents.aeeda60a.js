import{P as x,D as M,_ as R,a as V,b as z,c as j}from"./jquery.dataTables.7ff08911.js";import{a as F,u as n,b as G}from"./entry.8d01597c.js";import{u as H}from"./fetch.bcf930a6.js";import{u as Q}from"./cookie.cd6838fc.js";import{M as D,j as q,H as d,L as e,u as o,z as J,y as O,x as h,N as r,O as A,q as l,P as K,Q as _,R as v,I as W,J as X}from"./swiper-vue.cf378b39.js";const f=c=>(W("data-v-b603cd14"),c=c(),X(),c),Y={class:"agents-page"},Z=f(()=>e("h2",{class:"page-title"},"Agents",-1)),ee={class:"table-nav"},te=f(()=>e("img",{src:R},null,-1)),ae=[te],se=f(()=>e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Username"),e("th",null,"Email"),e("th",null,"Phone Number"),e("th",null,"Coin Balance"),e("th",null,"Action")])],-1)),ne=["onClick"],oe=["onClick"],le={__name:"agents",async setup(c){let t,i;x.use(M);const g=G(),m=Q("user_info"),k=n("details_modal_is_active",()=>!1),p=n("add_modal_is_active",()=>!1),y=n("delete_modal_is_active",()=>!1),P=n("user_to_view",()=>{}),w=n("user_to_delete",()=>{}),b=n("content_is_loading");b.value=!0;const{data:B,pending:_e,refresh:ce}=([t,i]=D(()=>H(`${g.public.baseURL}/api/agents/all`,{method:"GET",headers:{Authorization:"Bearer "+m.value.token}},"$Pj2Qw3Hexl")),t=await t,i(),t),I=B.value,N=([t,i]=D(()=>$fetch(`${g.public.baseURL}/api/user/types`,{method:"GET",headers:{Authorization:"Bearer "+m.value.token}})),t=await t,i(),t);n("user_types",()=>N),b.value=!1;function U(s){k.value=!0,P.value=s}async function $(s){y.value=!0,w.value=s}return q(()=>{const s=(currentPage-1)*itemsPerPage,u=s+itemsPerPage;return[].slice(s,u)}),(s,u)=>{const C=V,S=z,T=j;return l(),d(A,null,[e("div",Y,[Z,e("div",ee,[e("a",{onClick:u[0]||(u[0]=()=>p.value=!o(p))},ae)]),J(o(x),{class:"display"},{default:O(()=>[se,e("tbody",null,[(l(!0),d(A,null,K(o(I),(a,E)=>(l(),d("tr",{key:E},[e("td",null,_(a.id),1),e("td",null,_(a.username),1),e("td",null,_(a.email),1),e("td",null,_(a.phone_number),1),e("td",null,_(a.coins.length>0?a.coins[0].coin_balance:0),1),e("td",null,[v(" ( "),e("a",{onClick:L=>U(a)},"Details",8,ne),v(),o(m).user.user_type.name=="admin"?(l(),d("a",{key:0,onClick:L=>$(a)},"Delete",8,oe)):r("",!0),v(" ) ")])]))),128))])]),_:1})]),o(k)?(l(),h(C,{key:0})):r("",!0),o(p)?(l(),h(S,{key:1})):r("",!0),o(y)?(l(),h(T,{key:2})):r("",!0)],64)}}},pe=F(le,[["__scopeId","data-v-b603cd14"]]);export{pe as default};
