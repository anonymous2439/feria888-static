import{P as D,D as L,_ as R,a as V,b as z,c as q}from"./jquery.dataTables.d297a60f.js";import{a as F,u as n,b as G}from"./entry.fc396bb8.js";import{u as H}from"./fetch.ee91f249.js";import{u as Q}from"./cookie.e4a6987c.js";import{M as x,j,H as r,L as e,u as o,z as J,y as O,x as h,N as d,O as A,q as l,P as K,I as W,J as X,Q as _,R as v}from"./swiper-vue.cf378b39.js";const f=i=>(W("data-v-b62db8b4"),i=i(),X(),i),Y={class:"users-page"},Z=f(()=>e("h2",{class:"page-title"},"Users",-1)),ee={class:"table-nav"},te=f(()=>e("img",{src:R},null,-1)),se=[te],ae=f(()=>e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Username"),e("th",null,"Email"),e("th",null,"Phone Number"),e("th",null,"Coin Balance"),e("th",null,"User Type"),e("th",null,"Action")])],-1)),ne=["onClick"],oe=["onClick"],le={__name:"users",async setup(i){let s,c;D.use(L);const b=G(),m=Q("user_info"),y=n("details_modal_is_active",()=>!1),p=n("add_modal_is_active",()=>!1),k=n("delete_modal_is_active",()=>!1),B=n("user_to_view",()=>{}),P=n("user_to_delete",()=>{}),g=n("content_is_loading");g.value=!0;const{data:U,pending:_e,refresh:ie}=([s,c]=x(()=>H(`${b.public.baseURL}/api/users/all`,{method:"GET",headers:{Authorization:"Bearer "+m.value.token}},"$5e9MclQqBH")),s=await s,c(),s),w=U.value,I=([s,c]=x(()=>$fetch(`${b.public.baseURL}/api/user/types`,{method:"GET",headers:{Authorization:"Bearer "+m.value.token}})),s=await s,c(),s);n("user_types",()=>I),g.value=!1;function N(a){y.value=!0,B.value=a}async function T(a){k.value=!0,P.value=a}return j(()=>{const a=(currentPage-1)*itemsPerPage,u=a+itemsPerPage;return[].slice(a,u)}),(a,u)=>{const C=V,$=z,M=q;return l(),r(A,null,[e("div",Y,[Z,e("div",ee,[e("a",{onClick:u[0]||(u[0]=()=>p.value=!o(p))},se)]),J(o(D),{class:"display"},{default:O(()=>[ae,e("tbody",null,[(l(!0),r(A,null,K(o(w),(t,S)=>(l(),r("tr",{key:S},[e("td",null,_(t.id),1),e("td",null,_(t.username),1),e("td",null,_(t.email),1),e("td",null,_(t.phone_number),1),e("td",null,_(t.coins.length>0?t.coins[0].coin_balance:0),1),e("td",null,_(t.user_type.name),1),e("td",null,[v(" ( "),e("a",{onClick:E=>N(t)},"Details",8,ne),v(),o(m).user.user_type.name=="admin"?(l(),r("a",{key:0,onClick:E=>T(t)},"Delete",8,oe)):d("",!0),v(" ) ")])]))),128))])]),_:1})]),o(y)?(l(),h(C,{key:0})):d("",!0),o(p)?(l(),h($,{key:1})):d("",!0),o(k)?(l(),h(M,{key:2})):d("",!0)],64)}}},pe=F(le,[["__scopeId","data-v-b62db8b4"]]);export{pe as default};
